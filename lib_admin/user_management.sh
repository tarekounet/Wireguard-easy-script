#!/bin/bash# Fonctions de gestion des utilisateurs pour admin_menu.shvalidate_input() {    local type="$1"    local value="$2"    case "$type" in        "username")            [[ "$value" =~ ^[a-z][a-z0-9_-]{1,31}$ ]]            ;;        "port")            [[ "$value" =~ ^[0-9]+$ ]] && [ "$value" -ge 1 ] && [ "$value" -le 65535 ]            ;;        "ip")            [[ "$value" =~ ^([0-9]{1,3}\.){3}[0-9]{1,3}$ ]] && \            awk -F. '{for(i=1;i<=4;i++) if($i>255) exit 1}' <<< "$value"            ;;        "yesno")            [[ "${value,,}" =~ ^[oynOYN]?$ ]]            ;;        *)            return 1            ;;    esac}is_human_user() {    local username="$1"    local user_info=$(getent passwd "$username" 2>/dev/null)    [[ -n "$user_info" ]] || return 1    local uid=$(echo "$user_info" | cut -d: -f3)    local shell=$(echo "$user_info" | cut -d: -f7)    [[ "$uid" -ge 1000 ]] || return 1    [[ "$shell" != "/usr/sbin/nologin" ]] || return 1    [[ "$shell" != "/bin/false" ]] || return 1    [[ "$shell" != "/sbin/nologin" ]] || return 1    [[ -n "$shell" ]] || return 1    [[ "$username" != "nobody" ]] || return 1    [[ "$username" != _* ]] || return 1    [[ "$username" != systemd* ]] || return 1    [[ "$username" != daemon* ]] || return 1    [[ "$username" != "mail" ]] || return 1    [[ "$username" != "ftp" ]] || return 1    [[ "$username" != "www-data" ]] || return 1    [[ "$username" != "backup" ]] || return 1    [[ "$username" != "list" ]] || return 1    [[ "$username" != "proxy" ]] || return 1    [[ "$username" != "uucp" ]] || return 1    [[ "$username" != "news" ]] || return 1    [[ "$username" != "gnats" ]] || return 1    [[ "$username" != "sshd" ]] || return 1    [[ "$username" != "messagebus" ]] || return 1    [[ "$username" != "uuidd" ]] || return 1    return 0}